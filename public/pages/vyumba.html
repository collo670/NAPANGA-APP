<!DOCTYPE html>
<html lang="sw">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="theme-color" content="#047857">
  
  <!-- SEO Meta Tags -->
  <meta name="description" content="Nyumba ya kukodisha Mikocheni, Dar es Salaam. Nyumba ya kisasa yenye vyumba 3, bafu 2, maji, umeme, interneti na parking. TSh 1,200,000 kwa mwezi.">
  <meta name="keywords" content="nyumba, kukodisha, Dar es Salaam, Mikocheni, apartment, nyumba ya kukodisha Tanzania">
  <meta name="author" content="Nyumba">
  <meta name="robots" content="index, follow">
  
  <!-- Open Graph / Facebook -->
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://nyumba.co.tz/pages/vyumba.html">
  <meta property="og:title" content="Nyumba ya Kukodisha - Mikocheni, Dar es Salaam | TSh 1,200,000/mwezi">
  <meta property="og:description" content="Nyumba ya kisasa yenye vyumba 3, bafu 2, maji, umeme, interneti na parking. Karibu na shule, hospitali, na maduka.">
  <meta property="og:image" content="https://nyumba.co.tz/Assets/nyumba1.png">
  <meta property="og:locale" content="sw_TZ">
  <meta property="og:site_name" content="Nyumba">
  
  <!-- Twitter Card -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:url" content="https://nyumba.co.tz/pages/vyumba.html">
  <meta name="twitter:title" content="Nyumba ya Kukodisha - Mikocheni, Dar es Salaam">
  <meta name="twitter:description" content="Nyumba ya kisasa yenye vyumba 3, bafu 2. TSh 1,200,000 kwa mwezi.">
  <meta name="twitter:image" content="https://nyumba.co.tz/Assets/nyumba1.png">
  
  <!-- PWA -->
  <link rel="manifest" href="/manifest.json">
  <link rel="apple-touch-icon" href="/icons/icon-192.png">
  
  <!-- DNS Prefetch for external resources -->
  <link rel="dns-prefetch" href="https://maps.app.goo.gl">
  <link rel="dns-prefetch" href="https://wa.me">
  
  <!-- Preload critical image -->
  <link rel="preload" as="image" href="../Assets/nyumba1.png">
  
  <!-- JSON-LD Structured Data for Real Estate Listing -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "Residence",
    "name": "Nyumba ya Kukodisha - Mikocheni",
    "description": "Nyumba nzuri ya kisasa yenye uwanja mkubwa na mahali pa kupumzika. Inapatikana na maji ya kutosha, umeme wa kutosha, na eneo la kusaga magari.",
    "numberOfRooms": "3",
    "numberOfBathroomsTotal": "2",
    "address": {
      "@type": "PostalAddress",
      "addressLocality": "Mikocheni",
      "addressRegion": "Dar es Salaam",
      "addressCountry": "TZ"
    },
    "geo": {
      "@type": "GeoCoordinates",
      "latitude": "-6.7789",
      "longitude": "39.2654"
    },
    "amenityFeature": [
      {"@type": "LocationFeatureSpecification", "name": "Maji", "value": true},
      {"@type": "LocationFeatureSpecification", "name": "Umeme", "value": true},
      {"@type": "LocationFeatureSpecification", "name": "Interneti", "value": true},
      {"@type": "LocationFeatureSpecification", "name": "Parking", "value": true},
      {"@type": "LocationFeatureSpecification", "name": "Bustani", "value": true}
    ],
    "offers": {
      "@type": "Offer",
      "price": "1200000",
      "priceCurrency": "TZS",
      "priceValidUntil": "2026-12-31",
      "availability": "https://schema.org/InStock",
      "seller": {
        "@type": "Person",
        "name": "Juma Hassan"
      }
    },
    "image": "https://nyumba.co.tz/Assets/nyumba1.png"
  }
  </script>
  
  <style>
    /* CSS Custom Properties */
    :root {
      --primary: #1e40af;
      --secondary: #047857;
      --surface: #ffffff;
      --text-primary: #1e293b;
      --text-secondary: #64748b;
      --border-color: #e2e8f0;
      --bg-light: #f8fafc;
      --bg-lighter: #f1f5f9;
      --shadow-sm: 0 1px 2px rgba(0,0,0,0.05);
      --shadow-md: 0 4px 12px rgba(0,0,0,0.05);
      --shadow-lg: 0 -4px 12px rgba(0,0,0,0.05);
      --radius-sm: 8px;
      --radius-md: 12px;
      --radius-lg: 16px;
      --radius-full: 50px;
    }
    
    /* Dark Mode Variables */
    @media (prefers-color-scheme: dark) {
      :root {
        --surface: #1e293b;
        --text-primary: #f1f5f9;
        --text-secondary: #94a3b8;
        --border-color: #334155;
        --bg-light: #1e293b;
        --bg-lighter: #334155;
      }
    }
    
    /* Reset & Base */
    * { box-sizing: border-box; margin: 0; padding: 0; }
    
    body { 
      font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif; 
      line-height: 1.5; 
      color: var(--text-primary); 
      background-color: var(--bg-light); 
      padding-bottom: 80px;
      min-height: 100vh;
    }
    
    /* Typography */
    h1 { font-size: 1.125rem; font-weight: 700; }
    h2 { font-size: 1.25rem; font-weight: 700; }
    h3 { font-size: 1rem; font-weight: 600; }
    
    /* Property Header */
    .property-header { 
      position: sticky; 
      top: 0; 
      background: var(--surface); 
      z-index: 70; 
      border-bottom: 1px solid var(--border-color); 
      padding: 12px 16px; 
      display: flex; 
      justify-content: space-between; 
      align-items: center;
    }
    
    .back-btn, .share-btn { 
      background: none; 
      border: none; 
      font-size: 24px; 
      width: 40px; 
      height: 40px; 
      border-radius: 50%; 
      display: flex; 
      align-items: center; 
      justify-content: center; 
      color: var(--primary);
      cursor: pointer;
      transition: background-color 0.2s, transform 0.1s;
    }
    
    .back-btn:hover, .share-btn:hover {
      background: var(--bg-lighter);
    }
    
    .back-btn:active, .share-btn:active {
      transform: scale(0.95);
    }
    
    .back-btn:focus, .share-btn:focus {
      outline: 2px solid var(--primary);
      outline-offset: 2px;
    }
    
    /* Image Gallery */
    .gallery { 
      width: 100%; 
      height: 300px; 
      background: var(--bg-lighter); 
      overflow: hidden; 
      position: relative;
    }
    
    .gallery-slider {
      display: flex;
      height: 100%;
      transition: transform 0.3s ease;
    }
    
    .gallery-slide {
      min-width: 100%;
      height: 100%;
    }
    
    .gallery-img { 
      width: 100%; 
      height: 100%; 
      object-fit: cover; 
      display: block;
    }
    
    .gallery-dots {
      position: absolute;
      bottom: 12px;
      left: 0;
      right: 0;
      display: flex;
      justify-content: center;
      gap: 8px;
      padding: 8px;
    }
    
    .gallery-dot {
      width: 8px;
      height: 8px;
      border-radius: 50%;
      background: rgba(255, 255, 255, 0.5);
      border: none;
      cursor: pointer;
      transition: background-color 0.2s, transform 0.2s;
      padding: 0;
    }
    
    .gallery-dot.active {
      background: white;
      transform: scale(1.25);
    }
    
    .gallery-dot:focus {
      outline: 2px solid white;
      outline-offset: 2px;
    }
    
    .gallery-nav {
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      background: rgba(255, 255, 255, 0.9);
      border: none;
      width: 36px;
      height: 36px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      font-size: 18px;
      color: var(--text-primary);
      transition: background-color 0.2s;
      z-index: 10;
    }
    
    .gallery-nav:hover {
      background: white;
    }
    
    .gallery-nav:focus {
      outline: 2px solid var(--primary);
      outline-offset: 2px;
    }
    
    .gallery-nav.prev { left: 12px; }
    .gallery-nav.next { right: 12px; }
    
    /* Detail Section */
    .detail-section { 
      background: var(--surface); 
      border-radius: var(--radius-lg) var(--radius-lg) 0 0; 
      padding: 20px 16px; 
      margin-top: -16px; 
      position: relative; 
      box-shadow: var(--shadow-lg);
    }
    
    .price-display { 
      font-size: 28px; 
      font-weight: 700; 
      color: var(--secondary); 
      margin: 8px 0; 
      font-variant-numeric: tabular-nums;
    }
    
    .location-display { 
      display: flex; 
      align-items: center; 
      gap: 6px; 
      color: var(--primary); 
      font-weight: 500; 
      margin: 4px 0;
    }
    
    /* Property Stats */
    .property-stats {
      display: flex;
      gap: 16px;
      margin-top: 12px;
      font-size: 14px;
      color: var(--text-secondary);
    }
    
    .stat-item {
      display: flex;
      align-items: center;
      gap: 4px;
    }
    
    .stat-item svg {
      flex-shrink: 0;
    }
    
    /* Amenity Grid */
    .amenity-grid { 
      display: grid; 
      grid-template-columns: repeat(3, 1fr); 
      gap: 12px; 
      margin-top: 16px;
    }
    
    .amenity-item { 
      text-align: center; 
      padding: 12px 8px; 
      border-radius: var(--radius-sm); 
      background: var(--bg-light); 
      font-size: 13px;
      transition: transform 0.2s;
    }
    
    .amenity-item:hover {
      transform: translateY(-2px);
    }
    
    .amenity-icon {
      font-size: 20px;
      display: block;
      margin-bottom: 4px;
    }
    
    /* Description */
    .section-title {
      font-size: 1.25rem;
      font-weight: 700;
      margin-top: 24px;
      margin-bottom: 12px;
    }
    
    .description { 
      line-height: 1.7; 
      color: var(--text-secondary); 
      margin: 12px 0;
    }
    
    /* Map Container */
    .map-container { 
      height: 200px; 
      background: var(--bg-lighter); 
      border-radius: var(--radius-md); 
      margin: 16px 0; 
      overflow: hidden; 
      position: relative;
    }
    
    .map-placeholder { 
      position: absolute; 
      inset: 0; 
      display: flex; 
      flex-direction: column; 
      align-items: center; 
      justify-content: center; 
      text-align: center; 
      padding: 16px; 
      color: var(--text-secondary);
    }
    
    .map-link { 
      background: var(--primary); 
      color: white; 
      text-decoration: none; 
      padding: 10px 20px; 
      border-radius: var(--radius-full); 
      display: inline-flex; 
      align-items: center; 
      gap: 8px; 
      margin-top: 12px; 
      font-weight: 500;
      transition: background-color 0.2s, transform 0.2s;
    }
    
    .map-link:hover {
      background: #1e3a8a;
    }
    
    .map-link:focus {
      outline: 2px solid var(--primary);
      outline-offset: 2px;
    }
    
    /* Lister Card */
    .lister-card { 
      display: flex; 
      align-items: center; 
      gap: 12px; 
      padding: 16px; 
      background: var(--bg-light); 
      border-radius: var(--radius-md); 
      margin: 20px 0;
    }
    
    .lister-avatar { 
      width: 50px; 
      height: 50px; 
      border-radius: 50%; 
      background: var(--primary); 
      color: white; 
      display: flex; 
      align-items: center; 
      justify-content: center; 
      font-weight: bold; 
      flex-shrink: 0;
      font-size: 20px;
    }
    
    .lister-info {
      flex: 1;
    }
    
    .lister-name {
      font-weight: 700;
      font-size: 16px;
    }
    
    .lister-role {
      font-size: 14px;
      color: var(--text-secondary);
    }
    
    .lister-verified {
      display: flex;
      align-items: center;
      gap: 4px;
      font-size: 13px;
      color: var(--secondary);
      margin-top: 4px;
    }
    
    /* Contact Bar */
    .contact-bar { 
      position: fixed; 
      bottom: 0; 
      left: 0; 
      right: 0; 
      background: var(--surface); 
      padding: 12px 16px; 
      box-shadow: 0 -2px 10px rgba(0,0,0,0.08); 
      display: flex; 
      gap: 12px; 
      z-index: 80;
    }
    
    .whatsapp-btn, .call-btn { 
      flex: 1; 
      padding: 14px 16px; 
      border-radius: var(--radius-full); 
      font-weight: 600; 
      display: flex; 
      align-items: center; 
      justify-content: center; 
      gap: 8px; 
      text-decoration: none; 
      border: none; 
      font-size: 16px; 
      color: white;
      cursor: pointer;
      transition: transform 0.2s, box-shadow 0.2s;
    }
    
    .whatsapp-btn:hover, .call-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(0,0,0,0.15);
    }
    
    .whatsapp-btn:focus, .call-btn:focus {
      outline: 2px solid var(--primary);
      outline-offset: 2px;
    }
    
    .whatsapp-btn { background: #25D366; }
    .whatsapp-btn:hover { background: #1da851; }
    
    .call-btn { background: var(--primary); }
    .call-btn:hover { background: #1e3a8a; }
    
    /* Share Modal */
    .share-modal {
      display: none;
      position: fixed;
      inset: 0;
      background: rgba(0, 0, 0, 0.5);
      z-index: 100;
      align-items: flex-end;
      justify-content: center;
    }
    
    .share-modal.active {
      display: flex;
    }
    
    .share-modal-content {
      background: var(--surface);
      border-radius: var(--radius-lg) var(--radius-lg) 0 0;
      padding: 24px 16px;
      width: 100%;
      max-width: 500px;
      animation: slideUp 0.3s ease;
    }
    
    @keyframes slideUp {
      from { transform: translateY(100%); }
      to { transform: translateY(0); }
    }
    
    .share-modal-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 20px;
    }
    
    .share-modal-title {
      font-size: 18px;
      font-weight: 700;
    }
    
    .share-modal-close {
      background: none;
      border: none;
      font-size: 24px;
      cursor: pointer;
      color: var(--text-secondary);
      padding: 4px;
    }
    
    .share-options {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 16px;
    }
    
    .share-option {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 8px;
      text-decoration: none;
      color: var(--text-primary);
      padding: 12px;
      border-radius: var(--radius-sm);
      transition: background-color 0.2s;
    }
    
    .share-option:hover {
      background: var(--bg-light);
    }
    
    .share-option-icon {
      width: 48px;
      height: 48px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 24px;
    }
    
    .share-option-label {
      font-size: 12px;
      text-align: center;
    }
    
    .share-whatsapp { background: #25D366; color: white; }
    .share-telegram { background: #0088cc; color: white; }
    .share-facebook { background: #1877f2; color: white; }
    .share-twitter { background: #1da1f2; color: white; }
    .share-copy { background: var(--bg-lighter); color: var(--text-primary); }
    .share-email { background: #ea4335; color: white; }
    
    .copy-feedback {
      text-align: center;
      padding: 12px;
      background: var(--secondary);
      color: white;
      border-radius: var(--radius-sm);
      margin-top: 16px;
      display: none;
    }
    
    .copy-feedback.show {
      display: block;
      animation: fadeIn 0.3s ease;
    }
    
    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }
    
    /* Toast Notification */
    .toast {
      position: fixed;
      bottom: 100px;
      left: 50%;
      transform: translateX(-50%);
      background: var(--text-primary);
      color: var(--surface);
      padding: 12px 24px;
      border-radius: var(--radius-full);
      font-size: 14px;
      z-index: 200;
      opacity: 0;
      transition: opacity 0.3s;
      pointer-events: none;
    }
    
    .toast.show {
      opacity: 1;
    }
    
    /* Responsive Adjustments */
    @media (min-width: 768px) {
      .gallery { height: 400px; }
      .detail-section { padding: 24px; max-width: 800px; margin: -16px auto 0; }
      .contact-bar { max-width: 800px; left: 50%; transform: translateX(-50%); }
      .property-header { max-width: 800px; margin: 0 auto; }
    }
    
    /* Print Styles */
    @media print {
      .contact-bar, .property-header, .gallery-nav, .gallery-dots, .share-modal {
        display: none !important;
      }
      body { padding-bottom: 0; }
      .detail-section { box-shadow: none; }
    }
  </style>
  <title> NAPANGA APP</title>
</head>
<body>
  <header class="property-header" role="banner">
    <button class="back-btn" onclick="goBack()" aria-label="Rudi nyuma" title="Rudi nyuma">
      ‚Üê
    </button>
    <h1>Maelezo ya Mali</h1>
    <button class="share-btn" onclick="openShareModal()" aria-label="Shiriki mali hii" title="Shiriki">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
        <path stroke-linecap="round" stroke-linejoin="round" d="M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z" />
      </svg>
    </button>
  </header>
  
  <main role="main">
    <!-- IMAGE GALLERY -->
    <section class="gallery" aria-label="Picha za nyumba" role="region">
      <div class="gallery-slider" id="gallerySlider">
        <div class="gallery-slide">
          <img src="../Assets/nyumba1.png" alt="Picha ya nje ya nyumba" class="gallery-img" loading="eager" width="800" height="600">
        </div>
        <div class="gallery-slide">
          <img src="../Assets/nyumba2.png" alt="Picha ya chumba cha kulala" class="gallery-img" loading="lazy" width="800" height="600">
        </div>
        <div class="gallery-slide">
          <img src="../Assets/Nyumba3.png" alt="Picha ya sebuleni" class="gallery-img" loading="lazy" width="800" height="600">
        </div>
      </div>
      
      <button class="gallery-nav prev" onclick="prevSlide()" aria-label="Picha iliyotangulia" title="Picha iliyotangulia">
        ‚Äπ
      </button>
      <button class="gallery-nav next" onclick="nextSlide()" aria-label="Picha inayofuata" title="Picha inayofuata">
        ‚Ä∫
      </button>
      
      <div class="gallery-dots" role="tablist" aria-label="Chagua picha">
        <button class="gallery-dot active" onclick="goToSlide(0)" role="tab" aria-selected="true" aria-label="Picha 1" title="Picha 1"></button>
        <button class="gallery-dot" onclick="goToSlide(1)" role="tab" aria-selected="false" aria-label="Picha 2" title="Picha 2"></button>
        <button class="gallery-dot" onclick="goToSlide(2)" role="tab" aria-selected="false" aria-label="Picha 3" title="Picha 3"></button>
      </div>
    </section>
    
    <article class="detail-section">
      <div class="price-display" role="text" aria-label="Bei: Shilingi 1,200,000 kwa mwezi">
        TSh 1,200,000 <span style="font-size: 16px; font-weight: 400;">/ mwezi</span>
      </div>
      
      <div class="location-display">
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
          <path stroke-linecap="round" stroke-linejoin="round" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" />
          <path stroke-linecap="round" stroke-linejoin="round" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" />
        </svg>
        <span>Mikocheni, Dar es Salaam</span>
      </div>
      
      <div class="property-stats" role="list" aria-label="Maelezo ya nyumba">
        <div class="stat-item" role="listitem">
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
            <path stroke-linecap="round" stroke-linejoin="round" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6" />
          </svg>
          <span>3 Vyumba</span>
        </div>
        <div class="stat-item" role="listitem">
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
            <path stroke-linecap="round" stroke-linejoin="round" d="M8 14v3m4-3v3m4-3v3M3 21h18M3 10h18M3 7l9-4 9 4M4 10h16v11H4V10z" />
          </svg>
          <span>2 Bafu</span>
        </div>
        <div class="stat-item" role="listitem">
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
            <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
            <line x1="16" y1="2" x2="16" y2="6"></line>
            <line x1="8" y1="2" x2="8" y2="6"></line>
            <line x1="3" y1="10" x2="21" y2="10"></line>
          </svg>
          <span>Apartimenti</span>
        </div>
      </div>
      
      <section aria-labelledby="amenities-heading">
        <h2 id="amenities-heading" class="section-title">Vifaa na Huduma</h2>
        <div class="amenity-grid" role="list">
          <div class="amenity-item" role="listitem">
            <span class="amenity-icon">üíß</span>
            <span>Maji</span>
          </div>
          <div class="amenity-item" role="listitem">
            <span class="amenity-icon">‚ö°</span>
            <span>Umeme</span>
          </div>
          <div class="amenity-item" role="listitem">
            <span class="amenity-icon">üì∂</span>
            <span>Interneti</span>
          </div>
          <div class="amenity-item" role="listitem">
            <span class="amenity-icon">üÖøÔ∏è</span>
            <span>Parking</span>
          </div>
          <div class="amenity-item" role="listitem">
            <span class="amenity-icon">üö™</span>
            <span>Mbao za Chuma</span>
          </div>
          <div class="amenity-item" role="listitem">
            <span class="amenity-icon">üå≥</span>
            <span>Bustani</span>
          </div>
        </div>
      </section>
      
      <section aria-labelledby="description-heading">
        <h2 id="description-heading" class="section-title">Maelezo</h2>
        <p class="description">
          Nyumba nzuri ya kisasa yenye uwanja mkubwa na mahali pa kupumzika. 
          Inapatikana na maji ya kutosha, umeme wa kutosha, na eneo la kusaga magari. 
          Karibu na shule, hospitali, na maduka.
        </p>
        <p class="description">
          Malipo yanaweza kufanyika kwa mwezi au kwa mwaka. 
          Malipo ya ujumbe hayahitajiki - wasiliana moja kwa moja na mmiliki.
        </p>
      </section>
      
      <section aria-labelledby="location-heading">
        <h2 id="location-heading" class="section-title">Mahali</h2>
        <div class="map-container">
          <div class="map-placeholder">
            <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" aria-hidden="true">
              <path stroke-linecap="round" stroke-linejoin="round" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" />
              <path stroke-linecap="round" stroke-linejoin="round" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" />
            </svg>
            <p style="margin-top: 8px; font-weight: 500;">Onesha Mahali kwenye Ramani</p>
            <a href="https://maps.app.goo.gl/?link=https://goo.gl/maps/MikocheniDar" target="_blank" rel="noopener noreferrer" class="map-link" aria-label="Fungua Google Maps kuona mahali">
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
                <path stroke-linecap="round" stroke-linejoin="round" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" />
                <path stroke-linecap="round" stroke-linejoin="round" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" />
              </svg>
              Fungua Google Maps
            </a>
          </div>
        </div>
      </section>
      
      <section aria-labelledby="lister-heading">
        <h2 id="lister-heading" class="sr-only">Mmiliki</h2>
        <div class="lister-card">
          <div class="lister-avatar" aria-hidden="true">J</div>
          <div class="lister-info">
            <div class="lister-name">Juma Hassan</div>
            <div class="lister-role">Mmiliki wa Nyumba</div>
            <div class="lister-verified">
              <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
                <path stroke-linecap="round" stroke-linejoin="round" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
              </svg>
              <span>Imethibitishwa</span>
            </div>
          </div>
        </div>
      </section>
    </article>
  </main>
  
  <!-- STICKY CONTACT BAR -->
  <div class="contact-bar" role="complementary" aria-label="Mawasiliano">
    <a href="tel:+255712345678" class="call-btn" aria-label="Piga simu kwa +255 712 345 678">
      <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
        <path stroke-linecap="round" stroke-linejoin="round" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z" />
      </svg>
      Piga Simu
    </a>
    <a href="https://wa.me/255712345678?text=Nimeona%20nyumba%20yako%20kwenye%20Nyumba.%20Naweza%20kuona%20nyumba%20leo?" class="whatsapp-btn" aria-label="Wasiliana kupitia WhatsApp" target="_blank" rel="noopener noreferrer">
      <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
        <path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"/>
      </svg>
      WhatsApp
    </a>
  </div>
  
  <!-- SHARE MODAL -->
  <div class="share-modal" id="shareModal" role="dialog" aria-modal="true" aria-labelledby="shareModalTitle">
    <div class="share-modal-content">
      <div class="share-modal-header">
        <h2 id="shareModalTitle" class="share-modal-title">Shiriki Mali Hii</h2>
        <button class="share-modal-close" onclick="closeShareModal()" aria-label="Funga" title="Funga">√ó</button>
      </div>
      <div class="share-options">
        <a href="#" class="share-option" onclick="shareViaWhatsApp(event)" aria-label="Shiriki kupitia WhatsApp">
          <div class="share-option-icon share-whatsapp">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
              <path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"/>
            </svg>
          </div>
          <span class="share-option-label">WhatsApp</span>
        </a>
        <a href="#" class="share-option" onclick="shareViaTelegram(event)" aria-label="Shiriki kupitia Telegram">
          <div class="share-option-icon share-telegram">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
              <path d="M11.944 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0a12 12 0 0 0-.056 0zm4.962 7.224c.1-.002.321.023.465.14a.506.506 0 0 1 .171.325c.016.093.036.306.02.472-.18 1.898-.962 6.502-1.36 8.627-.168.9-.499 1.201-.82 1.23-.696.065-1.225-.46-1.9-.902-1.056-.693-1.653-1.124-2.678-1.8-1.185-.78-.417-1.21.258-1.91.177-.184 3.247-2.977 3.307-3.23.007-.032.014-.15-.056-.212s-.174-.041-.249-.024c-.106.024-1.793 1.14-5.061 3.345-.48.33-.913.49-1.302.48-.428-.008-1.252-.241-1.865-.44-.752-.245-1.349-.374-1.297-.789.027-.216.325-.437.893-.663 3.498-1.524 5.83-2.529 6.998-3.014 3.332-1.386 4.025-1.627 4.476-1.635z"/>
            </svg>
          </div>
          <span class="share-option-label">Telegram</span>
        </a>
        <a href="#" class="share-option" onclick="shareViaFacebook(event)" aria-label="Shiriki kupitia Facebook">
          <div class="share-option-icon share-facebook">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
              <path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"/>
            </svg>
          </div>
          <span class="share-option-label">Facebook</span>
        </a>
        <a href="#" class="share-option" onclick="shareViaTwitter(event)" aria-label="Shiriki kupitia Twitter">
          <div class="share-option-icon share-twitter">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
              <path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/>
            </svg>
          </div>
          <span class="share-option-label">Twitter</span>
        </a>
        <a href="#" class="share-option" onclick="shareViaEmail(event)" aria-label="Shiriki kupitia Email">
          <div class="share-option-icon share-email">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path stroke-linecap="round" stroke-linejoin="round" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />
            </svg>
          </div>
          <span class="share-option-label">Email</span>
        </a>
        <button class="share-option" onclick="copyLink(event)" aria-label="Nakili kiungo" style="border: none; cursor: pointer; background: none;">
          <div class="share-option-icon share-copy">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path stroke-linecap="round" stroke-linejoin="round" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z" />
            </svg>
          </div>
          <span class="share-option-label">Nakili Kiungo</span>
        </button>
      </div>
      <div class="copy-feedback" id="copyFeedback">
        Kiungo kinakiliwa! üëç
      </div>
    </div>
  </div>
  
  <!-- Toast Notification -->
  <div class="toast" id="toast" role="alert" aria-live="polite"></div>
  
  <!-- Screen Reader Only Styles -->
  <style>
    .sr-only {
      position: absolute;
      width: 1px;
      height: 1px;
      padding: 0;
      margin: -1px;
      overflow: hidden;
      clip: rect(0, 0, 0, 0);
      white-space: nowrap;
      border: 0;
    }
  </style>
  
  <script>
    // ============================================
    // GALLERY FUNCTIONALITY
    // ============================================
    let currentSlide = 0;
    const totalSlides = 3;
    const slider = document.getElementById('gallerySlider');
    const dots = document.querySelectorAll('.gallery-dot');
    let touchStartX = 0;
    let touchEndX = 0;
    
    function updateGallery() {
      if (slider) {
        slider.style.transform = `translateX(-${currentSlide * 100}%)`;
      }
      dots.forEach((dot, index) => {
        dot.classList.toggle('active', index === currentSlide);
        dot.setAttribute('aria-selected', index === currentSlide);
      });
    }
    
    function nextSlide() {
      currentSlide = (currentSlide + 1) % totalSlides;
      updateGallery();
    }
    
    function prevSlide() {
      currentSlide = (currentSlide - 1 + totalSlides) % totalSlides;
      updateGallery();
    }
    
    function goToSlide(index) {
      currentSlide = index;
      updateGallery();
    }
    
    // Touch/Swipe support for gallery
    const gallery = document.querySelector('.gallery');
    if (gallery) {
      gallery.addEventListener('touchstart', (e) => {
        touchStartX = e.changedTouches[0].screenX;
      }, { passive: true });
      
      gallery.addEventListener('touchend', (e) => {
        touchEndX = e.changedTouches[0].screenX;
        handleSwipe();
      }, { passive: true });
    }
    
    function handleSwipe() {
      const swipeThreshold = 50;
      const diff = touchStartX - touchEndX;
      
      if (Math.abs(diff) > swipeThreshold) {
        if (diff > 0) {
          nextSlide();
        } else {
          prevSlide();
        }
      }
    }
    
    // Keyboard navigation for gallery
    document.addEventListener('keydown', (e) => {
      if (e.key === 'ArrowLeft') {
        prevSlide();
      } else if (e.key === 'ArrowRight') {
        nextSlide();
      }
    });
    
    // Auto-advance gallery (optional - disabled by default)
    // setInterval(nextSlide, 5000);
    
    // ============================================
    // NAVIGATION
    // ============================================
    function goBack() {
      if (window.history.length > 1) {
        window.history.back();
      } else {
        // Fallback if no history
        window.location.href = '../index.html';
      }
    }
    
    // ============================================
    // SHARE FUNCTIONALITY
    // ============================================
    const shareUrl = window.location.href;
    const shareTitle = 'Nyumba ya Kukodisha - Mikocheni, Dar es Salaam';
    const shareText = 'Angalia nyumba hii nzuri ya kukodisha Mikocheni, Dar es Salaam. TSh 1,200,000 kwa mwezi.';
    
    function openShareModal() {
      const modal = document.getElementById('shareModal');
      if (modal) {
        modal.classList.add('active');
        document.body.style.overflow = 'hidden';
        // Focus trap
        modal.querySelector('.share-modal-close').focus();
      }
    }
    
    function closeShareModal() {
      const modal = document.getElementById('shareModal');
      if (modal) {
        modal.classList.remove('active');
        document.body.style.overflow = '';
      }
    }
    
    // Close modal on backdrop click
    document.getElementById('shareModal')?.addEventListener('click', (e) => {
      if (e.target.classList.contains('share-modal')) {
        closeShareModal();
      }
    });
    
    // Close modal on Escape key
    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape') {
        closeShareModal();
      }
    });
    
    function shareViaWhatsApp(e) {
      e.preventDefault();
      const url = `https://wa.me/?text=${encodeURIComponent(shareText + ' ' + shareUrl)}`;
      window.open(url, '_blank', 'noopener,noreferrer');
    }
    
    function shareViaTelegram(e) {
      e.preventDefault();
      const url = `https://t.me/share/url?url=${encodeURIComponent(shareUrl)}&text=${encodeURIComponent(shareText)}`;
      window.open(url, '_blank', 'noopener,noreferrer');
    }
    
    function shareViaFacebook(e) {
      e.preventDefault();
      const url = `https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(shareUrl)}`;
      window.open(url, '_blank', 'noopener,noreferrer,width=600,height=400');
    }
    
    function shareViaTwitter(e) {
      e.preventDefault();
      const url = `https://twitter.com/intent/tweet?text=${encodeURIComponent(shareText)}&url=${encodeURIComponent(shareUrl)}`;
      window.open(url, '_blank', 'noopener,noreferrer,width=600,height=400');
    }
    
    function shareViaEmail(e) {
      e.preventDefault();
      const subject = encodeURIComponent(shareTitle);
      const body = encodeURIComponent(shareText + '\n\n' + shareUrl);
      window.location.href = `mailto:?subject=${subject}&body=${body}`;
    }
    
    async function copyLink(e) {
      e.preventDefault();
      try {
        await navigator.clipboard.writeText(shareUrl);
        showCopyFeedback();
        showToast('Kiungo kinakiliwa!');
      } catch (err) {
        // Fallback for older browsers
        const textArea = document.createElement('textarea');
        textArea.value = shareUrl;
        textArea.style.position = 'fixed';
        textArea.style.left = '-9999px';
        document.body.appendChild(textArea);
        textArea.select();
        try {
          document.execCommand('copy');
          showCopyFeedback();
          showToast('Kiungo kinakiliwa!');
        } catch (err) {
          showToast('Imeshindwa kunakili. Tafadhali jaribu tena.');
        }
        document.body.removeChild(textArea);
      }
    }
    
    function showCopyFeedback() {
      const feedback = document.getElementById('copyFeedback');
      if (feedback) {
        feedback.classList.add('show');
        setTimeout(() => {
          feedback.classList.remove('show');
        }, 2000);
      }
    }
    
    function showToast(message) {
      const toast = document.getElementById('toast');
      if (toast) {
        toast.textContent = message;
        toast.classList.add('show');
        setTimeout(() => {
          toast.classList.remove('show');
        }, 3000);
      }
    }
    
    // Web Share API (native sharing on supported devices)
    if (navigator.share) {
      document.querySelector('.share-btn')?.addEventListener('click', async (e) => {
        // Check if we should use native share or modal
        const useNativeShare = window.innerWidth < 768 || /Android|iPhone|iPad|iPod/i.test(navigator.userAgent);
        
        if (useNativeShare) {
          e.stopPropagation();
          try {
            await navigator.share({
              title: shareTitle,
              text: shareText,
              url: shareUrl
            });
            showToast('Imeshirikiwa!');
            return;
          } catch (err) {
            if (err.name !== 'AbortError') {
              openShareModal();
            }
          }
        } else {
          openShareModal();
        }
      });
    }
    
    // ============================================
    // PWA / SERVICE WORKER
    // ============================================
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
        navigator.serviceWorker.register('/sw.js').catch(console.warn);
        
        // Cache this page for offline access
        if ('caches' in window) {
          caches.open('property-pages-v1').then(cache => {
            cache.add(location.href).catch(console.warn);
          }).catch(console.warn);
        }
      });
    }
    
    // ============================================
    // PERFORMANCE OPTIMIZATIONS
    // ============================================
    document.addEventListener('DOMContentLoaded', () => {
      // Lazy load images that are not in viewport
      const lazyImages = document.querySelectorAll('img[loading="lazy"]');
      
      if ('IntersectionObserver' in window) {
        const imageObserver = new IntersectionObserver((entries) => {
          entries.forEach(entry => {
            if (entry.isIntersecting) {
              const img = entry.target;
              if (img.dataset.src) {
                img.src = img.dataset.src;
              }
              imageObserver.unobserve(img);
            }
          });
        }, { rootMargin: '50px' });
        
        lazyImages.forEach(img => imageObserver.observe(img));
      }
      
      // Disable gallery animations on low memory devices
      if (navigator.deviceMemory && navigator.deviceMemory < 2) {
        const galleryEl = document.querySelector('.gallery');
        if (galleryEl) {
          galleryEl.style.overflow = 'hidden';
        }
        if (slider) {
          slider.style.transition = 'none';
        }
      }
    });
    
    // ============================================
    // IMAGE ERROR HANDLING
    // ============================================
    document.querySelectorAll('.gallery-img').forEach(img => {
      img.addEventListener('error', function() {
        // Fallback to placeholder or default image
        this.src = 'data:image/svg+xml,' + encodeURIComponent(`
          <svg xmlns="http://www.w3.org/2000/svg" width="800" height="600" viewBox="0 0 800 600">
            <rect fill="#f1f5f9" width="800" height="600"/>
            <text fill="#94a3b8" font-family="system-ui" font-size="24" text-anchor="middle" x="400" y="300">Picha haipatikani</text>
          </svg>
        `);
        this.alt = 'Picha haipatikani';
      });
    });
  </script>
</body>
</html>
